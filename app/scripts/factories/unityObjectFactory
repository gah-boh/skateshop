skateshop.service('UnityObjectFactory', function() {

	// TODO: check that this is only getting called once.
	var unityObject = new UnityObject2();

	var initUnity = function (selector, webPlayerAddress) {
		unityObject.initPlugin($(selector)[0], webPlayerAddress);
		return unityObject.getUnity();
	};

	this.getUnity = function(selector, webPlayerAddress) {
		return initUnity(selector, webPlayerAddress);
	}
});
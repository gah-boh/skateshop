skateshop.service('UnityObjectFactory', function() {

	// TODO: check that this is only getting called once.
	var unityObject = new UnityObject2();

	function getUnity (selector, webPlayerAddress) {
		unityObject.initPlugin($(selector)[0], webPlayerAddress);
		return unityObject.getUnity();
	}

	return function(selector, webPlayerAddress) {
		return getUnity(selector, webPlayerAddress);
	}
});